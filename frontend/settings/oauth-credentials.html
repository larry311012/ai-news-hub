<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OAuth Configuration - Social Media Setup</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom Design System */
        :root {
            --primary-50: #eff6ff;
            --primary-100: #dbeafe;
            --primary-500: #3b82f6;
            --primary-600: #2563eb;
            --primary-700: #1d4ed8;
            --success-50: #f0fdf4;
            --success-500: #10b981;
            --success-600: #059669;
            --error-50: #fef2f2;
            --error-500: #ef4444;
            --error-600: #dc2626;
            --warning-50: #fffbeb;
            --warning-500: #f59e0b;
        }

        /* Smooth Animations */
        @keyframes slideDown {
            from {
                opacity: 0;
                max-height: 0;
                transform: translateY(-12px);
            }
            to {
                opacity: 1;
                max-height: 2000px;
                transform: translateY(0);
            }
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: scale(0.96);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(12px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }

        .animate-slideDown {
            animation: slideDown 350ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-fadeIn {
            animation: fadeIn 250ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-slideUp {
            animation: slideUp 300ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-pulse-slow {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        /* Enhanced Focus States */
        *:focus-visible {
            outline: 2px solid #3b82f6;
            outline-offset: 2px;
            border-radius: 4px;
        }

        /* Smooth Transitions */
        * {
            transition-property: background-color, border-color, color, box-shadow;
            transition-duration: 200ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 5px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* Glass Morphism Effect */
        .glass {
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* Card Hover Effect */
        .card-hover {
            transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1);
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        /* Screen Reader Only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }

        .sr-only:focus {
            position: static;
            width: auto;
            height: auto;
            padding: 0.5rem 1rem;
            margin: 0;
            overflow: visible;
            clip: auto;
            white-space: normal;
        }

        /* Loading Skeleton */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s ease-in-out infinite;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        /* Badge Pulse */
        .badge-pulse {
            position: relative;
        }

        .badge-pulse::before {
            content: '';
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            background: inherit;
            opacity: 0;
            animation: pulse-ring 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }

        @keyframes pulse-ring {
            0% {
                transform: scale(1);
                opacity: 0.5;
            }
            100% {
                transform: scale(1.3);
                opacity: 0;
            }
        }

        /* Dark Mode */
        @media (prefers-color-scheme: dark) {
            :root {
                color-scheme: dark;
            }

            .glass {
                background: rgba(30, 41, 59, 0.8);
            }

            ::-webkit-scrollbar-track {
                background: #1e293b;
            }

            ::-webkit-scrollbar-thumb {
                background: #475569;
            }

            ::-webkit-scrollbar-thumb:hover {
                background: #64748b;
            }
        }

        /* Gradient Background */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .gradient-bg-light {
            background: linear-gradient(135deg, #f6f8fb 0%, #ffffff 100%);
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-slate-50 dark:from-slate-900 dark:via-slate-800 dark:to-slate-900 min-h-screen">

    <!-- Skip to main content (Accessibility) -->
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:bg-blue-600 focus:text-white focus:px-6 focus:py-3 focus:rounded-lg focus:shadow-lg">
        Skip to main content
    </a>

    <!-- Main Application Container -->
    <div id="app" class="max-w-5xl mx-auto px-4 py-8 md:px-6 md:py-12">

        <!-- Breadcrumb Navigation -->
        <nav class="mb-6" aria-label="Breadcrumb">
            <ol class="flex items-center gap-2 text-sm">
                <li>
                    <a href="/settings" class="text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 font-medium transition-colors">
                        Settings
                    </a>
                </li>
                <li>
                    <svg class="w-4 h-4 text-gray-400" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd"/>
                    </svg>
                </li>
                <li class="text-gray-900 dark:text-gray-100 font-semibold" aria-current="page">
                    OAuth Configuration
                </li>
            </ol>
        </nav>

        <!-- Page Header -->
        <header class="mb-10 animate-fadeIn" id="main-content">
            <div class="flex items-center gap-3 mb-3">
                <div class="w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg">
                    <svg class="w-7 h-7 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                    </svg>
                </div>
                <div>
                    <h1 class="text-4xl font-bold text-gray-900 dark:text-gray-50 tracking-tight">
                        Social Media Configuration
                    </h1>
                    <p class="text-base text-gray-600 dark:text-gray-400 mt-1">
                        Connect your social platforms to enable automated posting
                    </p>
                </div>
            </div>
        </header>

        <!-- Security Badge -->
        <div class="mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 border border-blue-200 dark:border-blue-900/30 rounded-xl p-5 animate-slideUp">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <div class="flex-1">
                    <h3 class="text-sm font-semibold text-blue-900 dark:text-blue-100 mb-1">
                        Enterprise-Grade Security
                    </h3>
                    <p class="text-sm text-blue-800 dark:text-blue-200 leading-relaxed">
                        All credentials are encrypted with AES-256 encryption before storage. Only administrators with proper authentication can view or modify these settings.
                    </p>
                </div>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div v-if="toast.show"
             :class="[
                 'mb-8 border rounded-xl p-5 shadow-lg animate-slideUp',
                 toast.type === 'success'
                     ? 'bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-900/50'
                     : 'bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-900/50'
             ]"
             role="alert"
             aria-live="polite">
            <div class="flex items-start gap-3">
                <!-- Success Icon -->
                <div v-if="toast.type === 'success'" class="w-10 h-10 bg-green-500 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <!-- Error Icon -->
                <div v-else class="w-10 h-10 bg-red-500 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>
                    </svg>
                </div>
                <!-- Message Content -->
                <div class="flex-1 min-w-0">
                    <p :class="[
                        'text-sm font-semibold mb-1',
                        toast.type === 'success' ? 'text-green-900 dark:text-green-100' : 'text-red-900 dark:text-red-100'
                    ]">
                        {{ toast.message }}
                    </p>
                    <p v-if="toast.description" :class="[
                        'text-sm',
                        toast.type === 'success' ? 'text-green-800 dark:text-green-300' : 'text-red-800 dark:text-red-300'
                    ]">
                        {{ toast.description }}
                    </p>
                </div>
                <!-- Close Button -->
                <button @click="toast.show = false"
                        :class="[
                            'p-1 rounded-lg hover:bg-white/50 dark:hover:bg-black/20 transition-colors',
                            toast.type === 'success' ? 'text-green-600' : 'text-red-600'
                        ]"
                        aria-label="Close notification">
                    <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
                        <path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>
                    </svg>
                </button>
            </div>
        </div>

        <!-- Platform Status Overview -->
        <div v-if="!isLoading" class="mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-blue-900/10 dark:to-indigo-900/10 rounded-xl p-6 border border-blue-100 dark:border-blue-900/30 animate-slideUp">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <div>
                    <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100">Platform Status</h3>
                    <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">
                        <span class="font-bold text-blue-600 dark:text-blue-400">{{ configuredCount }} of 3</span> platforms configured
                    </p>
                </div>
                <div class="flex gap-6">
                    <div class="text-center">
                        <div class="text-3xl mb-1" :class="platformStatus.twitter ? 'text-green-600 dark:text-green-400' : 'text-gray-300 dark:text-gray-600'">
                            {{ platformStatus.twitter ? '✓' : '○' }}
                        </div>
                        <div class="text-xs text-gray-600 dark:text-gray-400 font-medium">Twitter</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl mb-1" :class="platformStatus.linkedin ? 'text-green-600 dark:text-green-400' : 'text-gray-300 dark:text-gray-600'">
                            {{ platformStatus.linkedin ? '✓' : '○' }}
                        </div>
                        <div class="text-xs text-gray-600 dark:text-gray-400 font-medium">LinkedIn</div>
                    </div>
                    <div class="text-center">
                        <div class="text-3xl mb-1" :class="platformStatus.threads ? 'text-green-600 dark:text-green-400' : 'text-gray-300 dark:text-gray-600'">
                            {{ platformStatus.threads ? '✓' : '○' }}
                        </div>
                        <div class="text-xs text-gray-600 dark:text-gray-400 font-medium">Threads</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Platform Cards -->
        <div v-if="isLoading">
            <loading-skeleton></loading-skeleton>
        </div>
        <div v-else class="space-y-6">
            <twitter-config-card @toast="showToast" @status-update="handleStatusUpdate"></twitter-config-card>
            <linkedin-config-card @toast="showToast" @status-update="handleStatusUpdate"></linkedin-config-card>
            <threads-config-card @toast="showToast" @status-update="handleStatusUpdate"></threads-config-card>
        </div>

        <!-- Help Resources Section -->
        <div class="mt-12 bg-white dark:bg-slate-800 border border-gray-200 dark:border-slate-700 rounded-xl p-6 shadow-sm">
            <div class="flex items-start gap-4">
                <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center flex-shrink-0">
                    <svg class="w-5 h-5 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
                    </svg>
                </div>
                <div class="flex-1">
                    <h3 class="text-base font-semibold text-gray-900 dark:text-gray-100 mb-3">
                        Setup Documentation
                    </h3>
                    <ul class="space-y-2.5">
                        <li>
                            <a href="/TWITTER_OAUTH_SETUP_GUIDE.md"
                               class="group flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                <span class="w-8 h-8 bg-gray-100 dark:bg-slate-700 rounded-lg flex items-center justify-center group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors">
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                                    </svg>
                                </span>
                                <span class="font-medium">Twitter OAuth 1.0a Setup Guide</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://developer.linkedin.com/docs/getting-started"
                               target="_blank"
                               rel="noopener noreferrer"
                               class="group flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                <span class="w-8 h-8 bg-gray-100 dark:bg-slate-700 rounded-lg flex items-center justify-center group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors">
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                    </svg>
                                </span>
                                <span class="font-medium">LinkedIn API Documentation</span>
                            </a>
                        </li>
                        <li>
                            <a href="https://developers.facebook.com/docs/threads"
                               target="_blank"
                               rel="noopener noreferrer"
                               class="group flex items-center gap-3 text-sm text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400 transition-colors">
                                <span class="w-8 h-8 bg-gray-100 dark:bg-slate-700 rounded-lg flex items-center justify-center group-hover:bg-blue-50 dark:group-hover:bg-blue-900/20 transition-colors">
                                    <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                                    </svg>
                                </span>
                                <span class="font-medium">Threads API Setup Guide</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Screen reader status announcements -->
        <div role="status" aria-live="polite" aria-atomic="true" class="sr-only">
            {{ statusMessage }}
        </div>

    </div>

    <!-- Vue.js 3 -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script src="oauth-credentials.js"></script>
</body>
</html>
